<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BF6 Zenith | Профессиональные конфиги</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:ital,wght@0,400;0,700;0,900;1,900&display=swap');
        
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', sans-serif;
            background: #000;
            color: #fff;
            overflow-x: hidden;
        }

        .bg-image {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.85)), 
                        url('bf6.jpg');
            background-size: cover;
            background-position: center;
            z-index: -1;
        }

        .glass {
            background: rgba(10, 10, 15, 0.8);
            backdrop-filter: blur(15px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .card-custom {
            background: rgba(15, 15, 20, 0.9);
            border: 1px solid rgba(255, 255, 255, 0.05);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
        }

        .card-custom:hover {
            transform: translateY(-8px);
            border-color: #00f2ff;
            box-shadow: 0 10px 30px rgba(0, 242, 255, 0.1);
        }

        .main-title {
            font-size: clamp(3rem, 10vw, 8rem);
            font-weight: 900;
            line-height: 0.9;
            letter-spacing: -0.05em;
            font-style: italic;
            text-transform: uppercase;
        }

        .neo-text {
            color: #00f2ff;
            text-shadow: 0 0 20px rgba(0, 242, 255, 0.5);
        }

        .view-section { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: scale(0.98); } to { opacity: 1; transform: scale(1); } }

        .ai-input {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            padding: 1rem;
            border-radius: 0.75rem;
            width: 100%;
            outline: none;
            transition: 0.3s;
        }
        .ai-input:focus { border-color: #00f2ff; }

        .ai-result-box {
            background: #050505;
            border: 1px solid #1a1a1a;
            font-family: 'Courier New', Courier, monospace;
            padding: 1.5rem;
            border-radius: 0.75rem;
            color: #00f2ff;
            min-height: 200px;
            white-space: pre-wrap;
            text-align: left;
            margin-top: 1.5rem;
        }

        /* Режимы ИИ */
        .mode-btn {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: #666;
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            font-size: 10px;
            font-weight: 900;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            cursor: pointer;
            transition: 0.3s;
            flex: 1;
        }
        .mode-btn.active {
            background: #00f2ff;
            color: #000;
            border-color: #00f2ff;
            box-shadow: 0 0 15px rgba(0, 242, 255, 0.4);
        }

        .scanner-container {
            position: relative;
            width: 100%;
            height: 200px;
            background: rgba(0, 242, 255, 0.02);
            border: 1px solid rgba(0, 242, 255, 0.1);
            border-radius: 1rem;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .scan-line {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 2px;
            background: #00f2ff;
            box-shadow: 0 0 15px #00f2ff;
            animation: scanMove 2s infinite linear;
            z-index: 10;
        }

        @keyframes scanMove { 0% { top: 0; } 100% { top: 100%; } }
    </style>
</head>
<body class="min-h-screen">
    <div class="bg-image"></div>

    <nav class="glass sticky top-0 z-50 px-8 py-5 flex justify-between items-center">
        <div class="flex items-center space-x-2 cursor-pointer" onclick="showView('home')">
            <span class="text-xl font-black italic tracking-tighter uppercase">BF6 <span class="neo-text">ZENITH</span></span>
        </div>
        <div class="hidden md:flex items-center space-x-8 font-bold uppercase text-[10px] tracking-[0.3em]">
            <a href="#" onclick="showView('home')" class="hover:text-[#00f2ff] transition text-white">Главная</a>
            <a href="#" onclick="showView('ai')" class="px-4 py-2 bg-[#00f2ff]/10 border border-[#00f2ff]/30 rounded-lg text-[#00f2ff] hover:bg-[#00f2ff] hover:text-black transition-all">Ai CFG</a>
            <a href="https://discord.gg/yourlink" target="_blank" class="text-gray-400 hover:text-white transition">Discord</a>
        </div>
    </nav>

    <main id="view-home" class="view-section">
        <section class="h-[85vh] flex flex-col justify-center items-center text-center px-6">
            <h1 class="main-title mb-6">ОПТИМИЗАЦИЯ <br><span class="neo-text">BF6</span></h1>
            <p class="text-gray-400 text-sm md:text-lg max-w-2xl mx-auto mb-12 opacity-80">Лучшие пресеты и умная генерация через ИИ.</p>
            <button onclick="showView('ai')" class="px-10 py-5 bg-[#00f2ff] text-black font-black uppercase rounded-xl hover:scale-105 transition">Перейти к ИИ</button>
        </section>
    </main>

    <section id="view-ai" class="view-section py-20 px-6 hidden">
        <div class="max-w-3xl mx-auto card-custom p-10 md:p-16 rounded-[40px] text-center">
            <button onclick="showView('home')" class="mb-10 text-gray-400 hover:text-white flex items-center uppercase text-[10px] font-black">
                <i class="fas fa-arrow-left mr-3"></i> на главную
            </button>
            <h2 class="text-4xl font-black italic uppercase mb-2">AI <span class="neo-text">PRO TUNER</span></h2>
            <p class="text-gray-400 text-[10px] mb-10 uppercase tracking-widest opacity-60">Анализ сети и поиск по базам данных в реальном времени</p>
            
            <div class="space-y-6 text-left">
                <div class="flex gap-2 mb-4">
                    <button class="mode-btn active" onclick="setAiMode('fast', this)">Быстрый</button>
                    <button class="mode-btn" onclick="setAiMode('medium', this)">Стабильный</button>
                    <button class="mode-btn" onclick="setAiMode('extreme', this)">Экстремальный</button>
                </div>

                <div>
                    <label class="text-[10px] font-black uppercase tracking-widest text-[#00f2ff] mb-3 block">Конфигурация железа и пожелания</label>
                    <textarea id="ai-prompt" class="ai-input h-32" placeholder="Например: RTX 4070, i7-13700. Нужен максимальный буст FPS..."></textarea>
                </div>
                
                <button id="ai-gen-btn" onclick="generateAiConfig()" class="w-full bg-[#00f2ff] text-black py-5 rounded-xl font-black uppercase tracking-widest hover:scale-[1.02] transition-transform flex items-center justify-center gap-3">
                    <i class="fas fa-microchip"></i> Начать поиск и анализ
                </button>

                <div id="ai-loading" class="hidden">
                    <div class="scanner-container mt-6">
                        <div class="scan-line"></div>
                        <div class="z-20 text-center">
                            <i class="fas fa-search-plus text-4xl text-[#00f2ff] animate-pulse mb-4"></i>
                            <div id="ai-status" class="text-[#00f2ff] font-black uppercase text-[10px] tracking-[0.3em]"></div>
                            <div id="data-text" class="text-[8px] text-gray-500 mt-2 font-mono"></div>
                        </div>
                    </div>
                </div>

                <div id="ai-result-container" class="hidden">
                    <div class="ai-result-box" id="ai-result-text"></div>
                    <button onclick="downloadGeneratedConfig()" class="mt-6 w-full bg-white text-black py-4 rounded-xl font-black uppercase tracking-widest hover:bg-[#00f2ff] transition-colors flex items-center justify-center gap-3">
                        <i class="fas fa-download"></i> Скачать .cfg файл
                    </button>
                </div>
            </div>
        </div>
    </section>

    <script>
        const apiKey = "AIzaSyAfrWlkd4_jEx0JXXO3AlrBlBmDx8KylJo";
        let currentAiMode = 'fast';

        function setAiMode(mode, btn) {
            currentAiMode = mode;
            document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
        }

        async function generateAiConfig() {
            const prompt = document.getElementById('ai-prompt').value;
            const btn = document.getElementById('ai-gen-btn');
            const loader = document.getElementById('ai-loading');
            const resultCont = document.getElementById('ai-result-container');
            const resultText = document.getElementById('ai-result-text');
            const statusText = document.getElementById('ai-status');
            const dataText = document.getElementById('data-text');

            if (!prompt.trim()) return;

            btn.disabled = true;
            loader.classList.remove('hidden');
            resultCont.classList.add('hidden');

            // Симуляция этапов
            const steps = [
                "Сканирование системы...",
                "Поиск актуальных команд в сети...",
                "Проверка совместимости с BF6...",
                "Генерация оптимального кода..."
            ];
            let stepIdx = 0;
            const stepInterval = setInterval(() => {
                statusText.innerText = steps[stepIdx % steps.length];
                stepIdx++;
            }, 800);

            const dataInterval = setInterval(() => {
                const hex = Math.random().toString(16).toUpperCase().substring(2, 12);
                dataText.innerText = `NET_SEARCH: BF6_TWEAK_DB_${hex} | VALIDATING_CMD...`;
            }, 100);

            // Настройка системного промпта в зависимости от режима
            let complexity = "Короткий конфиг, только самые важные команды.";
            if(currentAiMode === 'medium') complexity = "Средний конфиг, баланс качества и FPS, около 20 команд.";
            if(currentAiMode === 'extreme') complexity = "Максимально длинный конфиг, все возможные хаки для FPS и стабильности. Минимум 40 команд.";

            const systemPrompt = `Ты — AI-эксперт по Battlefield 6. Твоя задача: сгенерировать идеальный user.cfg. 
            Используй поиск в интернете для нахождения последних актуальных настроек.
            Выдавай ТОЛЬКО команды движка Frostbite. Без лишних слов.
            Режим сложности: ${complexity}.
            Железо пользователя: ${prompt}.`;

            try {
                const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({
                        contents: [{ parts: [{ text: `Сгенерируй профессиональный конфиг для моего ПК: ${prompt}` }] }],
                        systemInstruction: { parts: [{ text: systemPrompt }] },
                        tools: [{ "google_search": {} }]
                    })
                });

                const data = await response.json();
                const text = data.candidates?.[0]?.content?.parts?.[0]?.text || "Ошибка доступа.";

                setTimeout(() => {
                    clearInterval(stepInterval);
                    clearInterval(dataInterval);
                    resultText.innerText = text.trim();
                    resultCont.classList.remove('hidden');
                    loader.classList.add('hidden');
                    btn.disabled = false;
                }, 3000);

            } catch (error) {
                clearInterval(stepInterval);
                clearInterval(dataInterval);
                resultText.innerText = "Ошибка соединения.";
                resultCont.classList.remove('hidden');
                loader.classList.add('hidden');
                btn.disabled = false;
            }
        }

        function downloadGeneratedConfig() {
            const content = document.getElementById('ai-result-text').innerText;
            const blob = new Blob([content], { type: 'text/plain' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'user.cfg';
            a.click();
            window.URL.revokeObjectURL(url);
        }

        function showView(viewId) {
            ['home', 'ai'].forEach(v => document.getElementById('view-' + v).classList.add('hidden'));
            document.getElementById('view-' + viewId).classList.remove('hidden');
            window.scrollTo(0, 0);
        }
    </script>
</body>
</html>
